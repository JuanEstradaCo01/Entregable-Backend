<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Document</title>
</head>
<body style="background-color: beige;"> 

    <header style="background-color: rgb(2, 136, 80);
                   font-size: 2rem;
                   height: 6rem;
                   display: flex;
                   justify-content: center;
                   align-items: center">
        <h2>〽My aplication</h2>
    </header>

    <div id="divh1Profile">
        <h1 class="headerPerfilh1">Perfil de usuario</h1>
    </div>
    
    <h2>Hola, {{user.first_name}}</h2>

    <hr>
    
    <div class="datosUser">
        <h4 class="titulo">Datos del usuario</h4>

        <p class="parrafo">Nombre: {{user.first_name}}</p>
        <p class="parrafo">Apellido: {{user.last_name}}</p>
        <p class="parrafo">Email: {{user.email}}</p>
        <p class="parrafo">Edad: {{user.age}}</p>
        <p class="parrafo">Rol: {{user.rol}}</p>
        <p class="parrafo">Provider: {{user.provider}}</p>      

        <form class="logout" action="/api/sessions/logout" method="POST">
            <button style="background-color: red;" type="submit" class="btnClose">Cerrar sesion</button>
        </form>
    </div>

    

    <h2 style="margin-top: 3rem;">Lista de productos de la tienda:</h2>
    <!--<div class="h3Paginatediv">
        <h3 class="h3Paginate">Pagina: {{page}} de {{totalPages}}</h3>
    </div>-->


    <a href= "/realTimeProducts"><button style="background-color: rgb(16, 146, 27);">Crear producto</button></a>

    <div id="tablePaginate">
        <table class="tablePag">
            <tr>
                <th>#</th>
                <th>ID</th>
                <th>Producto</th>
                <th>Tamaño</th>
                <th>Stock</th>
                <th>Categoria</th>
                <th>Precio</th>
                <th class="none"></th>
                <th class="none"></th>
            </tr>
            {{#each products.docs}}
            <tr>
                <td class="center">{{this.id}}</td>
                <td class="center">{{this._id}}</td>
                <td class="center">{{this.tittle}}</td>
                <td class="center">{{this.description}}</td>
                <td class="center">{{this.stock}}</td>
                <td class="center">{{this.category}}</td>
                <td class="center">{{this.price}}</td>

                <td class="none"><a href="/api/products/{{this._id}}"><button style="background-color: rgb(123, 172, 10);" id={{this._id}} class="detallebtn">Detalle</button></a></td>
                
                <td class="none"><a href="/actualizar?id={{this._id}}"><button style="background-color: aqua;" id={{this._id}} class="detallebtn" >Actualizar</button></a></td>
                <td class="none"><a href="/api/products/{{this._id}}"><button style="background-color: red;" id={{this._id}} class="detallebtn" >Eliminar</button></a></td>
            
                        

            </tr>
            {{/each}}
        </table>
    </div>

    <div class="divBotonsPaginate">
        {{#if hasPrevPage}}
            <button class="buttonPaginate"><a class="enlace" href="/products?page={{prevPage}}">⬅ Anterior</a></button>
        {{/if}}

        {{#if hasNextPage}}
            <button class="buttonPaginate"><a class="enlace" href="/products?page={{nextPage}}">Siguiente ➡</a></button>
        {{/if}}
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>